<html>

<head>
<link rel="stylesheet" type="text/css" href="css/Roadworks.css" />
<script type="text/javascript" src="js/jquery-1.7.1.js"></script>
<script type="text/javascript" src="js/11-SelectorPlugin.js"></script>
<script type="text/javascript" src="js/11-Roadworks.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    Roadworks.InitData( $("#ListRoadWorks") );
    // Add data with class information for each row
    Roadworks.LoadData( "Unplanned.xml", "unplanned", $("#ListRoadWorks"), $("#RequestStatus"), 
      function() {
        Roadworks.LoadData( "Roadworks.xml", "planned", $("#ListRoadWorks"), $("#RequestStatus"),
          function() {});
      });
    // Activate selection option
    $("#Selector").mySelector(
      { target:  "#ListRoadWorks tr"
      , showing: "#Showing"
      , selections: [ { label: "planned", selector: ".planned" }
                    , { label: "unplanned", selector: ".unplanned" }
                    , { label: "planned and unplanned", selector: ".planned, .unplanned" }
                 ]
      , defaultselection: 2
      });
  });
</script>
</head>

<body>                                                                  
  <h2>Planned and unplanned roadworks from data.gov.uk</h2>
  <p>Source: <a href="http://hatrafficinfo.dft.gov.uk/feeds/datex/England/CurrentPlanned/content.xml">http://hatrafficinfo.dft.gov.uk/feeds/datex/England/CurrentPlanned/content.xml</a></p>
  <p>Source: <a href="http://hatrafficinfo.dft.gov.uk/feeds/datex/England/UnplannedEvent/content.xml">http://hatrafficinfo.dft.gov.uk/feeds/datex/England/UnplannedEvent/content.xml</a></p>
  <p>Linked from: <a href="http://data.gov.uk/dataset/live-traffic-information-from-the-highways-agency-road-network">http://data.gov.uk/dataset/live-traffic-information-from-the-highways-agency-road-network</a>.</p>
  <p>Local copies in file <code>Roadworks.xml</code> and <code>Unplanned.xml</code> (to avoid same-origin restriction problems)</p>
  <h3>Showing <span id="Showing">(Select planned/unplanned/all)</span></h3>
  <h4>Show: <button id="Selector">(Select planned/unplanned/all)</button></h4>
  <div>
    <table>
      <thead>
        <row>
          <th>Id</th>
          <th>Location</th>
          <th>Start</th>
          <th>End</th>
          <th>Description</th>
        </row>
      </thead>
      <tbody id="ListRoadWorks">
        <!-- insert data here -->
        <!-- example -->
        <row>
          <td>GUID511931238</td>
          <td>M42 J6 southbound access</td>
          <td>2012-02-05T15:00:00Z</td>
          <td>2012-02-09T18:00:00Z</td>
          <td>On the M42 southbound entry slip at junction J6 , there are currently delays of 10 mins due to an entertainment event . Expect disruption until 6:00 pm.</td>
        </row>
      </tbody>
    </table>
  </div>
  <h2>Status</h2>
  <div id="RequestStatus">(No status)</div>
</body>                                                                 

</html>
